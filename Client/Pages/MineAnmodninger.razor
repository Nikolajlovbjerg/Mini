@page "/mine-anmodninger"
@inject HttpClient Http
@using Core;
@using PW1

<h3>Mine Anmodninger</h3>

@if (anmodninger == null)
{
    <p>Henter...</p>
}
else if (!anmodninger.Any())
{
    <p>Ingen anmodninger endnu.</p>
}
else
{
    <div class="d-flex flex-wrap">
		@foreach(var p in anmodninger)
		{
			<AnnonceCard Anmodning="p"/>
		}
	</div>
}

@code {
    private List<Anmodning>? anmodninger;

    protected override async Task OnInitializedAsync()
    {
        anmodninger = await Http.GetFromJsonAsync<List<Anmodning>>(
            $"http://localhost:{PASSWORD.localPort}/api/anmodning"
        );
    }
}